{"version":3,"file":"assets/jobs-drk.c50e88f5.js","mappings":"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","sources":["webpack://@xivanalysis/client/./src/parser/core/modules/ActionTimeline/ActionTimeline.tsx","webpack://@xivanalysis/client/./src/parser/core/modules/ActionTimeline/ActionTimeline.module.css?2f05","webpack://@xivanalysis/client/./src/parser/core/modules/GlobalCooldown.tsx","webpack://@xivanalysis/client/./src/parser/core/modules/PetTimeline.tsx","webpack://@xivanalysis/client/./src/parser/core/modules/StatusTimeline.ts","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/ActionTimeline.tsx","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/DISPLAY_ORDER.ts","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/BloodGauge.tsx","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/BloodWeapon.tsx","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/Darkside.tsx","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/Defensives.ts","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/Delirium.tsx","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/EsteemTimeline.ts","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/MPUsage.tsx","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/MultiHitSkills.ts","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/OGCDDowntime.ts","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/SaltAndDarkness.tsx","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/StatusTimeline.ts","webpack://@xivanalysis/client/./src/parser/jobs/drk/modules/index.ts"],"sourcesContent":["import {Trans} from '@lingui/react'\nimport {Action, ActionKey} from 'data/ACTIONS'\nimport {Analyser} from 'parser/core/Analyser'\nimport {dependency} from 'parser/core/Injectable'\nimport CastTime from 'parser/core/modules/CastTime'\nimport {ChargeHistoryEntry, CooldownEndReason, CooldownGroup, CooldownHistoryEntry, Cooldowns, SelectionSpecifier} from 'parser/core/modules/Cooldowns'\nimport {Data} from 'parser/core/modules/Data'\nimport {ActionItem, BaseItem, ContainerRow, SimpleItem, Timeline} from 'parser/core/modules/Timeline'\nimport React, {ReactNode} from 'react'\nimport {Icon} from 'semantic-ui-react'\nimport {ensureArray, isDefined} from 'utilities'\nimport styles from './ActionTimeline.module.css'\n\nconst ANIMATION_LOCK = 100\n\n// We're excluding the Action interface as it's unessecary for this config format, and complicates the discrimination later.\ntype RowSpecifierEntry = Exclude<SelectionSpecifier, Action>\n\n/**\n * One or more actions, action keys, or cooldown group IDs. The special-case\n * value \"GCD\" is available for selection of the GCD cooldown group.\n */\nexport type RowSpecifier = RowSpecifierEntry | RowSpecifierEntry[]\n\n/** Advanced configuration options for a row. */\nexport interface ActionRowConfig {\n\t/** Specifier(s) for items that should be displayed in this row. */\n\tcontent: RowSpecifier\n\t/** Label to display for the row. */\n\tlabel?: ReactNode\n\t/** Order of the row within the timeline. */\n\torder?: number\n\t/** For multi-action rows, should we resolve the name of the action late?\n\t*  This allows setting the name of the row to whatever actions was first used\n\t*  of the set of possibilities.\n\t* */\n\tlateResolveLabel?: boolean\n}\n\n/** Configuration for a single row. */\nexport type ActionRow = RowSpecifier | ActionRowConfig\n\n// Internal row config used within the module\ntype InternalRowConfig =\n\t& Omit<ActionRowConfig, 'content'>\n\t& {content: readonly SelectionSpecifier[]}\n\nenum ItemDepth {\n\tCHARGE_GAIN = 0,\n\tACTION = 1,\n}\n\nexport class ActionTimeline extends Analyser {\n\tstatic override handle = 'actionTimeline'\n\tstatic override debug = false\n\n\t/**\n\t * Configuration for the rows generated by this module. Any cooldown groups\n\t * not represented in this configuration will be added to automatically\n\t * generated rows in order of use.\n\t */\n\tstatic rows: ActionRow[] = [\n\t\t{content: 'GCD', order: -97},\n\t]\n\n\t@dependency private castTime!: CastTime\n\t@dependency private cooldowns!: Cooldowns\n\t@dependency private data!: Data\n\t@dependency private timeline!: Timeline\n\n\tprivate resolvedRows: InternalRowConfig[] = []\n\tprivate groupRows = new Map<CooldownGroup, ContainerRow>()\n\n\t/** Retrieve the timeline row representing the specified action. */\n\tgetRow(action: ActionKey | Action) {\n\t\treturn this.addRow({content: [action]})\n\t}\n\n\toverride initialise() {\n\t\t// Add rows for all the configured entries\n\t\tfor (const config of (this.constructor as typeof ActionTimeline).rows) {\n\t\t\tconst resolvedConfig = this.resolveConfig(config)\n\t\t\tthis.resolvedRows.push(resolvedConfig)\n\t\t\tthis.addRow(resolvedConfig)\n\t\t}\n\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\tprotected resolveRowLabel(config: InternalRowConfig) {\n\t\tfor (const maybeAction of config.content) {\n\t\t\tlet fullAction = undefined\n\t\t\tif (typeof maybeAction === 'object') {\n\t\t\t\tfullAction = maybeAction\n\t\t\t} else if (typeof maybeAction === 'number') {\n\t\t\t\tfullAction = this.data.getAction(maybeAction)\n\t\t\t} else if (typeof maybeAction === 'string') {\n\t\t\t\tfullAction = this.data.actions[maybeAction as ActionKey]\n\t\t\t}\n\t\t\tif (fullAction === undefined || fullAction === null) { continue }\n\n\t\t\tconst uses = this.cooldowns.cooldownHistory(fullAction.id) ?? []\n\t\t\tif (uses.length === 0) { continue }\n\n\t\t\treturn uses[0].action.name\n\t\t}\n\t}\n\tprivate onComplete() {\n\t\t// Track the groups with configured rows so backfill doesn't duplicate\n\t\tconst populatedGroups = new Set<number>()\n\n\t\t// Add rows for all the configured entries\n\t\tfor (const config of this.resolvedRows) {\n\t\t\tconst row = this.addRow(config)\n\t\t\tif (config.lateResolveLabel) {\n\t\t\t\t// Resolve the label for multi-action rows late, by finding which one\n\t\t\t\t// of the actions was first used\n\t\t\t\trow.label = this.resolveRowLabel(config) ?? row.label\n\t\t\t}\n\t\t\tthis.populateRow(row, config)\n\t\t\tconfig.content.forEach(specifier =>\n\t\t\t\tthis.cooldowns.groups(specifier).forEach(group => populatedGroups.add(group))\n\t\t\t)\n\t\t}\n\n\t\t// Figure out what groups have not been explicitly configured and build rows for them\n\t\tthis.cooldowns.allGroups()\n\t\t\t.filter(group => !populatedGroups.has(group))\n\t\t\t.forEach(group => {\n\t\t\t\tconst config = {content: [group]}\n\t\t\t\tconst row = this.addRow(config)\n\t\t\t\tthis.populateRow(row, config)\n\t\t\t})\n\t}\n\n\tprivate resolveConfig(config: ActionRow): InternalRowConfig {\n\t\t// Standardise the simple config into the main config shape\n\t\tlet finalConfig = config\n\t\tif (typeof finalConfig !== 'object' || Array.isArray(finalConfig)) {\n\t\t\tfinalConfig = {content: finalConfig}\n\t\t}\n\t\treturn {\n\t\t\t...finalConfig,\n\t\t\tcontent: ensureArray(finalConfig.content),\n\t\t}\n\t}\n\n\tprivate addRow(config: InternalRowConfig) {\n\t\t// If there's already a row for one of the specifiers, use it\n\t\tconst groups = config.content.flatMap(specifier => this.cooldowns.groups(specifier))\n\t\tconst existingRow = groups\n\t\t\t.map(group => this.groupRows.get(group))\n\t\t\t.find(isDefined)\n\t\tif (existingRow != null) {\n\t\t\treturn existingRow\n\t\t}\n\n\t\t// Using an IIFE because pattern matching isn't in the spec yet\n\t\tconst firstContent = config.content[0]\n\t\tconst label = (() => {\n\t\t\tif (config.label != null) { return config.label }\n\t\t\tif (firstContent === 'GCD')  { return <Trans id=\"core.action-timeline.label.gcd\">GCD</Trans> }\n\t\t\tif (typeof firstContent === 'string') { return this.data.actions[firstContent].name }\n\t\t\tif (typeof firstContent === 'number') { return this.cooldowns.cooldownHistory(firstContent)[0]?.action.name }\n\t\t\treturn firstContent.name\n\t\t})()\n\n\t\t// Build the row and save it to the groups for this config\n\t\t// TODO: collision handling?\n\t\tconst row = this.timeline.addRow(new ContainerRow({\n\t\t\tlabel,\n\t\t\torder: config.order,\n\t\t\tcollapse: true,\n\t\t}))\n\t\tgroups.forEach(group => this.groupRows.set(group, row))\n\n\t\treturn row\n\t}\n\n\tprivate populateRow(row: ContainerRow, {content}: InternalRowConfig) {\n\t\t// Add all the items\n\t\tthis.addCooldownItems(row, content.flatMap(specifier => this.cooldowns.cooldownHistory(specifier)))\n\t\tthis.addChargeItems(row, content.flatMap(specifier => this.cooldowns.chargeHistory(specifier)))\n\t}\n\n\tprivate addCooldownItems(row: ContainerRow, history: CooldownHistoryEntry[]) {\n\t\tfor (const entry of history) {\n\t\t\tconst duration = this.getCooldownDuration(entry)\n\n\t\t\t// TODO: with the adjusted cast time we might get some overlaps, should we try to avoid that?]\n\t\t\t// TODO: Add interrupt visuals. CD2 only records interrupts within the bounds of a cooldown, so we'll need to track it in some manner for long-cast actions.\n\t\t\tconst start = entry.start - this.parser.pull.timestamp\n\t\t\tconst end = start + duration\n\t\t\trow.addItem(new SimpleItem({\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\tcontent: <div className={styles.cooldown}/>,\n\t\t\t}))\n\t\t}\n\t}\n\n\tprivate addChargeItems(row: ContainerRow, history: ChargeHistoryEntry[]) {\n\t\tfor (const entry of history) {\n\t\t\tconst item = entry.delta < 0\n\t\t\t\t? new ActionItem({\n\t\t\t\t\tdepth: ItemDepth.ACTION,\n\t\t\t\t\tstart: entry.timestamp - this.parser.pull.timestamp,\n\t\t\t\t\taction: entry.action,\n\t\t\t\t})\n\t\t\t\t: new ChargeGainItem({\n\t\t\t\t\tdepth: ItemDepth.CHARGE_GAIN,\n\t\t\t\t\tstart: entry.timestamp - this.parser.pull.timestamp,\n\t\t\t\t})\n\t\t\trow.addItem(item)\n\t\t}\n\t}\n\n\tprivate getCooldownDuration(entry: CooldownHistoryEntry) {\n\t\tlet duration = entry.end - entry.start\n\n\t\t// If the cooldown expired naturally, it _may_ have a cast time greater than its cooldown.\n\t\tif (entry.endReason === CooldownEndReason.EXPIRED) {\n\t\t\tconst castTime = this.castTime.forAction(entry.action.id, entry.start) ?? 0\n\n\t\t\t// We add the animation lock constant to the cast time to mimic the game's\n\t\t\t// behaviour - also sometimes known as \"caster tax\".\n\t\t\tduration = Math.max(duration, castTime + ANIMATION_LOCK)\n\t\t}\n\n\t\treturn duration\n\t}\n}\n\nclass ChargeGainItem extends BaseItem {\n\tContent = () => (\n\t\t<div className={styles.chargeGain}>\n\t\t\t<Icon name=\"angle double up\" className={styles.icon}/>\n\t\t</div>\n\t)\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"backgroundColour\":\"rgba(213, 221, 246, .4)\",\"chargeColor\":\"color(rgba(213, 221, 246, .4) a(100%) l(-20%))\",\"cooldown\":\"ActionTimeline-module_cooldown__3u1x3\",\"chargeGain\":\"ActionTimeline-module_chargeGain__3-Of9\",\"icon\":\"ActionTimeline-module_icon__8OvsF\"};","import {MessageDescriptor} from '@lingui/core'\nimport {t} from '@lingui/macro'\nimport {Trans} from '@lingui/react'\nimport TransMarkdown from 'components/ui/TransMarkdown'\nimport {BASE_GCD} from 'data/CONSTANTS'\nimport React from 'react'\nimport {Report} from 'report'\nimport {Analyser} from '../Analyser'\nimport {dependency} from '../Injectable'\nimport {Data} from './Data'\nimport {SpeedAdjustments} from './SpeedAdjustments'\nimport {SimpleStatistic, Statistics} from './Statistics'\n\nconst estimateHelp: Record<Report['meta']['source'] | '__all', MessageDescriptor> = {\n\t__all: t('core.gcd.no-statistics.v2')`This GCD recast is an *estimate*, and may be incorrect. If it is reporting a GCD recast *longer* than reality, you likely need to focus on keeping your GCD rolling.`,\n\tlegacyFflogs: t('core.gcd.estimate-help.fflogs')`Precise attribute values are only available from FF Logs for the player who logged the report in ACT.`,\n}\n\nexport class GlobalCooldown extends Analyser {\n\tstatic override handle = 'gcd'\n\n\t@dependency private data!: Data\n\t@dependency private statistics!: Statistics\n\t@dependency private speedAdjustments!: SpeedAdjustments\n\n\toverride initialise() {\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\t/**\n\t * Get the base recast time of the parsed actor's GCD cooldown group, in milliseconds.\n\t * The value returned from this function _may_ be an estimate - check {@link GlobalCooldown.isEstimated}\n\t * to see if it is.\n\t */\n\tpublic getDuration() {\n\t\treturn this.speedAdjustments.getAdjustedDuration({duration: BASE_GCD})\n\t}\n\n\t/** Returns whether the GCD duration calculated by this module is an estimate. */\n\tpublic isEstimated() {\n\t\treturn this.speedAdjustments.isAdjustmentEstimated()\n\t}\n\n\tprivate onComplete() {\n\t\tconst estimated = this.isEstimated()\n\n\t\tthis.statistics.add(new SimpleStatistic({\n\t\t\ttitle: estimated\n\t\t\t\t? <Trans id=\"core.gcd.estimated-gcd\">Estimated GCD</Trans>\n\t\t\t\t: <Trans id=\"core.gcd.gcd\">GCD Recast</Trans>,\n\t\t\ticon: this.data.actions.ATTACK.icon,\n\t\t\tvalue: this.parser.formatDuration(this.getDuration()),\n\t\t\tinfo: estimated ? <>\n\t\t\t\t<TransMarkdown source={estimateHelp.__all}/>\n\t\t\t\t<TransMarkdown source={estimateHelp[this.parser.report.meta.source]}/>\n\t\t\t</> : undefined,\n\t\t}))\n\t}\n}\n","import {Event, Events} from 'event'\nimport {Analyser} from 'parser/core/Analyser'\nimport {filter, oneOf} from 'parser/core/filter'\nimport {dependency} from 'parser/core/Injectable'\nimport {ActionTimeline} from 'parser/core/modules/ActionTimeline'\nimport {Data} from 'parser/core/modules/Data'\nimport {ActionItem, SimpleRow, Timeline} from 'parser/core/modules/Timeline'\n\n// This module puts pet skills on the timeline beneath the GCD spells\nexport class PetTimeline extends Analyser {\n\tstatic override handle = 'pettimeline'\n\n\t@dependency protected data!: Data\n\t@dependency private timeline!: Timeline\n\t@dependency private actionTimeline!: ActionTimeline\n\n\t/**\n\t * Implementing modules MAY change the timeline group name.\n\t * If canPetBeCommanded returns false, this is the only name that will\n\t * appear on the timeline.\n\t */\n\tprotected timelineGroupName = 'Pet'\n\t/**\n\t * Implementing modules MAY indicate that a pet has a specific summon action.\n\t * If canPetBeCommanded returns true, this field is not used.\n\t * If timelineSummonAction is set to an action ID, actions will be grouped under it.\n\t */\n\t// TODO: This should be transitioned to a stable action key type, rather than action ID\n\tprotected timelineSummonAction?: number\n\t/**\n\t * Implementing modules MAY change the timeline row name for pet autos.\n\t * If canPetBeCommanded returns false, this field is not used.\n\t */\n\tprotected timelineAutosName = 'Autos'\n\t/**\n\t * Implementing modules MAY change the timeline row name for pet commanded skills.\n\t * If canPetBeCommanded returns false, this field is not used.\n\t */\n\tprotected timelineCommandsName = 'Commands'\n\t/**\n\t * Implementing modules MAY indicate that a pet has both \"autos\" and \"command\" skills.\n\t * If set to true, the autos and command skills will appear on separate lines in the\n\t * timeline.  If set to false, all skills will appear on the same row.\n\t *\n\t * If this is set to true, also override isCommandedEvent to determine which events are\n\t * command skills.\n\t */\n\tprotected canPetBeCommanded = false\n\n\tprivate autoCasts: Array<Events['action']> = []\n\tprivate commandCasts: Array<Events['action']> = []\n\n\tprotected isCommandedEvent(_event: Events['action']): boolean {\n\t\treturn false\n\t}\n\n\toverride initialise() {\n\t\tconst actorPets = this.parser.pull.actors\n\t\t\t.filter(actor => actor.owner != null && actor.owner.id === this.parser.actor.id)\n\t\t\t.map(pet => pet.id)\n\t\tthis.addEventHook(filter<Event>().type('action').source(oneOf(actorPets)), this.onCast)\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\tprivate onCast(event: Events['action']) {\n\t\tif (this.isCommandedEvent(event)) {\n\t\t\tthis.commandCasts.push(event)\n\t\t} else {\n\t\t\tthis.autoCasts.push(event)\n\t\t}\n\t}\n\n\tprivate onComplete() {\n\t\tlet autoRow: SimpleRow\n\n\t\tif (this.canPetBeCommanded) {\n\t\t\tconst parentrow = this.timeline.addRow(new SimpleRow({\n\t\t\t\tlabel: this.timelineGroupName,\n\t\t\t\torder: -98,\n\t\t\t}))\n\n\t\t\tautoRow = parentrow.addRow(new SimpleRow({\n\t\t\t\tlabel: this.timelineAutosName,\n\t\t\t\torder: 1,\n\t\t\t}))\n\n\t\t\tconst commandRow = parentrow.addRow(new SimpleRow({\n\t\t\t\tlabel: this.timelineCommandsName,\n\t\t\t\torder: 2,\n\t\t\t}))\n\n\t\t\tthis.addCastsToRow(commandRow, this.commandCasts)\n\n\t\t} else if (this.timelineSummonAction != null) {\n\t\t\tconst summonAction = this.data.getAction(this.timelineSummonAction)\n\t\t\tif (summonAction == null) { throw new Error('Timeline summon action set to an invalid action ID') }\n\n\t\t\tconst parentRow = this.actionTimeline.getRow(summonAction)\n\n\t\t\tautoRow = parentRow.addRow(new SimpleRow({\n\t\t\t\tlabel: this.timelineGroupName,\n\t\t\t\torder: -98,\n\t\t\t}))\n\n\t\t} else {\n\t\t\tautoRow = this.timeline.addRow(new SimpleRow({\n\t\t\t\tlabel: this.timelineGroupName,\n\t\t\t\torder: -98,\n\t\t\t}))\n\t\t}\n\n\t\tthis.addCastsToRow(autoRow, this.autoCasts)\n\t}\n\n\tprivate addCastsToRow(row: SimpleRow, casts: Array<Events['action']>) {\n\t\tcasts.forEach(cast => {\n\t\t\tconst action = this.data.getAction(cast.action)\n\t\t\tif (action == null) { return }\n\n\t\t\tconst start = cast.timestamp - this.parser.pull.timestamp\n\t\t\trow.addItem(new ActionItem({\n\t\t\t\taction,\n\t\t\t\tstart,\n\t\t\t\tend: start, // zero length intentional\n\t\t\t}))\n\t\t})\n\t}\n}\n","import {Action} from 'data/ACTIONS'\nimport {Status} from 'data/STATUSES'\nimport {Event, Events} from 'event'\nimport _ from 'lodash'\nimport {Analyser} from '../Analyser'\nimport {filter, noneOf, oneOf} from '../filter'\nimport {dependency} from '../Injectable'\nimport {ActionTimeline} from './ActionTimeline'\nimport {Actor, Actors} from './Actors'\nimport {Data} from './Data'\nimport {SimpleRow, StatusItem} from './Timeline'\n\ninterface Usage {\n\tstart: number\n\tend?: number\n}\n\ninterface StatusTarget {\n\tusages: Usage[]\n\trow: SimpleRow\n}\n\nexport class StatusTimeline extends Analyser {\n\tstatic override handle = 'statusTimeline'\n\n\tstatic statusesStackMapping: Record<number, number> = {}\n\n\t@dependency private actionTimeline!: ActionTimeline;\n\t@dependency private actors!: Actors;\n\t@dependency private data!: Data\n\n\tprivate statusActionMap = new Map<Status['id'], Action>();\n\tprivate usages = new Map<Status['id'], Map<Actor['id'], StatusTarget>>()\n\tprivate rows = new Map<string, SimpleRow>()\n\n\toverride initialise() {\n\t\t// Hook status events\n\t\tconst playerPetIds = this.parser.pull.actors\n\t\t\t.filter(actor => actor.owner === this.parser.actor)\n\t\t\t.map(pet => pet.id)\n\n\t\tconst allPetIds = this.parser.pull.actors\n\t\t\t.filter(actor => actor.owner?.playerControlled === true)\n\t\t\t.map(pet => pet.id)\n\n\t\tconst actorFilter = filter<Event>()\n\t\t\t.source(oneOf([this.parser.actor.id, ...playerPetIds]))\n\t\t\t.target(noneOf(allPetIds))\n\n\t\tthis.addEventHook(actorFilter.type('statusApply'), this.onApply)\n\t\tthis.addEventHook(actorFilter.type('statusRemove'), this.onRemove)\n\t\tthis.addEventHook('complete', this.onComplete)\n\n\t\t// Pre-cache status->action mappings\n\t\tfor (const action of Object.values(this.data.actions)) {\n\t\t\tif (action.statusesApplied == null) { continue }\n\t\t\tfor (const status of action.statusesApplied) {\n\t\t\t\tconst statusId = this.data.statuses[status].id\n\t\t\t\tthis.statusActionMap.set(statusId, action)\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onApply(event: Events['statusApply']) {\n\t\tlet statusUsages = this.usages.get(event.status)\n\t\tif (statusUsages == null) {\n\t\t\tstatusUsages = new Map()\n\t\t\tthis.usages.set(event.status, statusUsages)\n\t\t}\n\n\t\tlet statusTarget = statusUsages.get(event.target)\n\t\tif (statusTarget == null) {\n\t\t\tconst row = this.createStatusTargetRow(event.status, event.target)\n\t\t\tif (row == null) { return }\n\t\t\tstatusTarget = {\n\t\t\t\tusages: [],\n\t\t\t\trow,\n\t\t\t}\n\t\t\tstatusUsages.set(event.target, statusTarget)\n\t\t}\n\n\t\t// If there's an existing usage on the target, this can be considered to be a refresh\n\t\tconst lastUsage = _.last(statusTarget.usages)\n\t\tif (lastUsage != null && lastUsage.end == null) {\n\t\t\treturn\n\t\t}\n\n\t\tstatusTarget.usages.push({\n\t\t\tstart: event.timestamp,\n\t\t})\n\t}\n\n\tprivate onRemove(event: Events['statusRemove']) {\n\t\tconst lastUsage = _.last(this.usages.get(event.status)?.get(event.target)?.usages)\n\t\tif (lastUsage == null) { return }\n\n\t\tlastUsage.end = event.timestamp\n\t}\n\n\tprivate onComplete() {\n\t\tfor (const [statusId, statusUsages] of this.usages) {\n\t\t\tconst status = this.data.getStatus(statusId)\n\t\t\tif (status == null) { continue }\n\n\t\t\tfor (const statusTarget of statusUsages.values()) {\n\t\t\t\tfor (const usage of statusTarget.usages) {\n\t\t\t\t\tstatusTarget.row.addItem(new StatusItem({\n\t\t\t\t\t\tstatus,\n\t\t\t\t\t\tstart: usage.start - this.parser.pull.timestamp,\n\t\t\t\t\t\tend: (usage.end ?? this.parser.pull.timestamp + this.parser.pull.duration) - this.parser.pull.timestamp,\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createStatusTargetRow(statusId: Status['id'], targetId: Actor['id']) {\n\t\tconst mapping = (this.constructor as typeof StatusTimeline).statusesStackMapping\n\t\tconst remappedStatusId = mapping[statusId] ?? statusId\n\n\t\tconst rowKey = this.getRowKey(remappedStatusId, targetId)\n\n\t\tconst cachedRow = this.rows.get(rowKey)\n\t\tif (cachedRow != null) { return cachedRow }\n\n\t\tconst statusRow = this.createStatusRow(remappedStatusId)\n\t\tif (statusRow == null) { return }\n\n\t\tconst actor = this.actors.get(targetId)\n\n\t\tconst row = statusRow.addRow(new SimpleRow({\n\t\t\tlabel: actor.name,\n\t\t}))\n\n\t\tthis.rows.set(rowKey, row)\n\t\treturn row\n\t}\n\n\tprivate createStatusRow(statusId: Status['id']) {\n\t\tconst rowKey = this.getRowKey(statusId)\n\n\t\tconst cachedRow = this.rows.get(rowKey)\n\t\tif (cachedRow != null) { return cachedRow }\n\n\t\tconst action = this.statusActionMap.get(statusId)\n\t\tif (action == null) { return }\n\n\t\tconst row = this.actionTimeline.getRow(action).addRow(new SimpleRow({\n\t\t\tlabel: this.data.getStatus(statusId)?.name ?? statusId,\n\t\t\thideCollapsed: true,\n\t\t\tcollapse: true,\n\t\t}))\n\n\t\tthis.rows.set(rowKey, row)\n\t\treturn row\n\t}\n\n\tprivate getRowKey = (statusId: Status['id'], targetId?: Actor['id']) =>\n\t\t`${statusId}:${targetId}`\n}\n","import {ActionRow, ActionTimeline as CoreActionTimeline} from 'parser/core/modules/ActionTimeline'\n\nexport class ActionTimeline extends CoreActionTimeline {\n\tstatic override rows: ActionRow[] = [\n\t\t...CoreActionTimeline.rows,\n\n\t\t// Buffs\n\t\t'BLOOD_WEAPON',\n\t\t'DELIRIUM',\n\t\t// oGCD Damage\n\t\t'LIVING_SHADOW',\n\t\t'SHADOWBRINGER',\n\t\t'EDGE_OF_SHADOW',\n\t\t'FLOOD_OF_SHADOW',\n\t\t'CARVE_AND_SPIT',\n\t\t'ABYSSAL_DRAIN',\n\t\t'PLUNGE',\n\t\t['SALTED_EARTH', 'SALT_AND_DARKNESS'],\n\t\t// Personal Mitigation\n\t\t'LIVING_DEAD',\n\t\t'SHADOW_WALL',\n\t\t'RAMPART',\n\t\t'DARK_MIND',\n\t\t// Party Mitigation\n\t\t'THE_BLACKEST_NIGHT',\n\t\t'OBLATION',\n\t\t'REPRISAL',\n\t\t'DARK_MISSIONARY',\n\t\t// Tank Utility\n\t\t'PROVOKE',\n\t\t'SHIRK',\n\t\t// Disrupt Utility\n\t\t'INTERJECT',\n\t\t'LOW_BLOW',\n\t]\n}\n","export enum DISPLAY_ORDER {\n\tDELIRIUM = 1,\n\tBLOOD_WEAPON = 2,\n\tRESOURCES,\n}\n","import {t} from '@lingui/macro'\nimport {Trans} from '@lingui/react'\nimport {Action} from 'data/ACTIONS'\nimport {JOBS} from 'data/JOBS'\nimport {Event, Events} from 'event'\nimport {EventHook} from 'parser/core/Dispatcher'\nimport {filter, oneOf} from 'parser/core/filter'\nimport {dependency} from 'parser/core/Injectable'\nimport {Actors} from 'parser/core/modules/Actors'\nimport {CounterGauge, Gauge as CoreGauge} from 'parser/core/modules/Gauge'\nimport Suggestions, {SEVERITY, TieredSuggestion} from 'parser/core/modules/Suggestions'\nimport React from 'react'\n\nconst BLOOD_WEAPON_GAIN = 10\n\nconst BLOOD_OVERCAP_SEVERITY = {\n\t50: SEVERITY.MINOR,\n\t100: SEVERITY.MEDIUM,\n\t200: SEVERITY.MAJOR,\n}\n\nexport class BloodGauge extends CoreGauge {\n\tstatic override title = t('drk.gauge.title')`Blood Gauge`\n\n\t@dependency private actors!: Actors\n\t@dependency private suggestions!: Suggestions\n\n\tprivate bloodGauge = this.add(new CounterGauge({\n\t\tchart: {label: 'Blood Gauge', color: JOBS.DARK_KNIGHT.colour},\n\t}))\n\n\t/* eslint-disable @typescript-eslint/no-magic-numbers */\n\tprivate onComboModifiers = new Map<Action['id'], number>([\n\t\t[this.data.actions.SOULEATER.id, 20],\n\t\t[this.data.actions.STALWART_SOUL.id, 20],\n\t\t[this.data.actions.STORMS_PATH.id, 20],\n\t\t[this.data.actions.MYTHRIL_TEMPEST.id, 20],\n\t])\n\n\tprivate onActionModifiers = new Map<Action['id'], number>([\n\t\t[this.data.actions.INFURIATE.id, 50],\n\t\t[this.data.actions.LIVING_SHADOW.id, -50],\n\t\t[this.data.actions.QUIETUS.id, -50],\n\t\t[this.data.actions.BLOODSPILLER.id, -50],\n\t])\n\n\t/* eslint-enable @typescript-eslint/no-magic-numbers */\n\tprivate deliriumFreeCasts = [\n\t\tthis.data.actions.QUIETUS.id,\n\t\tthis.data.actions.BLOODSPILLER.id,\n\t]\n\n\tprivate activeGcdHook?: EventHook<Events['damage']>\n\n\toverride initialise() {\n\t\tsuper.initialise()\n\n\t\tconst playerFilter = filter<Event>().source(this.parser.actor.id)\n\t\tthis.addEventHook(playerFilter.type('action').action(oneOf([...this.onActionModifiers.keys()])), this.onModifier(this.onActionModifiers))\n\t\tthis.addEventHook(playerFilter.type('combo').action(oneOf([...this.onComboModifiers.keys()])), this.onModifier(this.onComboModifiers))\n\n\t\t// We hook the action for BW so we can just ignore stacks entirely\n\t\tthis.addEventHook(playerFilter.type('statusApply').status(this.data.statuses.BLOOD_WEAPON.id), this.onApplyBloodWeapon)\n\t\tthis.addEventHook(playerFilter.type('statusRemove').status(this.data.statuses.BLOOD_WEAPON.id), this.onRemoveBloodWeapon)\n\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\tprivate onModifier(modifiers: Map<Action['id'], number>) {\n\t\treturn (event: Events['action' | 'combo']) => {\n\t\t\tconst modifier = modifiers.get(event.action) ?? 0\n\t\t\tconst freeBloodAction = this.actors.current.hasStatus(this.data.statuses.DELIRIUM.id) && this.deliriumFreeCasts.includes(event.action)\n\t\t\tthis.bloodGauge.modify(freeBloodAction ? 0 : modifier)\n\t\t}\n\t}\n\n\tprivate onApplyBloodWeapon() {\n\t\tif (this.activeGcdHook == null) {\n\t\t\t// Buffs with stacks generate separate apply events for each stack with a single remove at the end.\n\t\t\t// Make sure we only start hooking for actions effected by Blood Weapon on the first apply event -- no duplicate hooks on the \"reapply\" events as the stacks go down\n\t\t\tthis.activeGcdHook = this.addEventHook(\n\t\t\t\tfilter<Event>()\n\t\t\t\t\t.source(this.parser.actor.id)\n\t\t\t\t\t.type('damage'),\n\t\t\t\tthis.onHitUnderBloodWeapon\n\t\t\t)\n\t\t}\n\t}\n\n\tprivate onRemoveBloodWeapon() {\n\t\tif (this.activeGcdHook != null) {\n\t\t\tthis.removeEventHook(this.activeGcdHook)\n\t\t\tthis.activeGcdHook = undefined\n\t\t}\n\t}\n\n\tprivate onHitUnderBloodWeapon(event: Events['damage']) {\n\t\tif (event.cause.type === 'status') {\n\t\t\treturn\n\t\t}\n\n\t\tconst action = this.data.getAction(event.cause.action)\n\t\tif (action != null && action.onGcd) {\n\t\t\tthis.bloodGauge.modify(BLOOD_WEAPON_GAIN)\n\t\t}\n\t}\n\n\tprivate onComplete() {\n\t\tthis.suggestions.add(new TieredSuggestion({\n\t\t\ticon: this.data.actions.DELIRIUM.icon,\n\t\t\tcontent: <Trans id=\"drk.gauge.suggestions.loss.content\">\n\t\t\t\tAvoid letting your Blood Gauge overcap - the wasted resources may cost you uses of your spenders over the course of the fight.\n\t\t\t</Trans>,\n\t\t\twhy: <Trans id=\"drk.gauge.suggestions.loss.why\">\n\t\t\t\t{this.bloodGauge.overCap} blood gauge lost to an overcapped gauge.\n\t\t\t</Trans>,\n\t\t\ttiers: BLOOD_OVERCAP_SEVERITY,\n\t\t\tvalue: this.bloodGauge.overCap,\n\t\t}))\n\t}\n}\n","import {t} from '@lingui/macro'\nimport {Trans} from '@lingui/react'\nimport {ActionLink} from 'components/ui/DbLink'\nimport {dependency} from 'parser/core/Injectable'\nimport {BuffWindow, ExpectedGcdCountEvaluator} from 'parser/core/modules/ActionWindow'\nimport {GlobalCooldown} from 'parser/core/modules/GlobalCooldown'\nimport {SEVERITY} from 'parser/core/modules/Suggestions'\nimport React from 'react'\nimport {DISPLAY_ORDER} from './DISPLAY_ORDER'\n\nexport class BloodWeapon extends BuffWindow {\n\tstatic override handle = 'bloodweapon'\n\tstatic override title = t('drk.bloodweapon.title')`Blood Weapon Usage`\n\tstatic override displayOrder = DISPLAY_ORDER.BLOOD_WEAPON\n\n\t@dependency globalCooldown!: GlobalCooldown\n\n\toverride buffStatus = this.data.statuses.BLOOD_WEAPON\n\n\toverride initialise() {\n\t\tsuper.initialise()\n\n\t\tthis.addEvaluator(new ExpectedGcdCountEvaluator({\n\t\t\texpectedGcds: 5,\n\t\t\tglobalCooldown: this.globalCooldown,\n\t\t\thasStacks: true,\n\t\t\tsuggestionIcon: this.data.actions.BLOOD_WEAPON.icon,\n\t\t\tsuggestionContent: <Trans id=\"drk.bloodweapon.suggestions.missedgcd.content\">\n\t\t\t\tTry to land 5 GCDs during every <ActionLink action=\"BLOOD_WEAPON\" /> window.  If you cannot do this with full uptime and no clipping, consider adjusting your gearset for more Skill Speed.\n\t\t\t</Trans>,\n\t\t\tsuggestionWindowName: <ActionLink action=\"BLOOD_WEAPON\" showIcon={false}/>,\n\t\t\tseverityTiers: {\n\t\t\t\t1: SEVERITY.MINOR,\n\t\t\t\t3: SEVERITY.MEDIUM,\n\t\t\t\t5: SEVERITY.MAJOR,\n\t\t\t},\n\t\t}))\n\t}\n\n}\n","import {MessageDescriptor} from '@lingui/core'\nimport {t} from '@lingui/macro'\nimport {Trans} from '@lingui/react'\nimport {DataLink} from 'components/ui/DbLink'\nimport NormalisedMessage from 'components/ui/NormalisedMessage'\nimport {ActionKey} from 'data/ACTIONS'\nimport {Event, Events} from 'event'\nimport {TimestampHookArguments} from 'parser/core/Dispatcher'\nimport {filter} from 'parser/core/filter'\nimport {dependency} from 'parser/core/Injectable'\nimport Checklist, {Requirement, Rule} from 'parser/core/modules/Checklist'\nimport Downtime from 'parser/core/modules/Downtime'\nimport {Gauge, TimerGauge} from 'parser/core/modules/Gauge'\nimport React from 'react'\nimport {Table} from 'semantic-ui-react'\nimport {isSuccessfulHit} from 'utilities'\n\nconst DARKSIDE_MAX_DURATION = 60000\nconst DARKSIDE_EXTENSION_ACTIONS: ActionKey[] = [\n\t'FLOOD_OF_SHADOW',\n\t'EDGE_OF_SHADOW',\n]\nconst DARKSIDE_EXTENSION_TIME = 30000\nconst APPLICATION_FORGIVENESS = 2500\n\ninterface DarksideDrop {\n\ttimestamp: number,\n\treason: MessageDescriptor\n}\n\nexport class Darkside extends Gauge {\n\tstatic override handle = 'Darkside'\n\n\tstatic override title = t('drk.darkside.title')`Darkside`\n\t@dependency private checklist!: Checklist\n\t@dependency private downtime!: Downtime\n\n\tprivate darksideGauge = this.add(new TimerGauge({\n\t\tmaximum: DARKSIDE_MAX_DURATION,\n\t\tonExpiration: this.onDarksideExpiration.bind(this),\n\t}))\n\tprivate darksideDrops: DarksideDrop[] = []\n\n\toverride initialise() {\n\t\tthis.addEventHook(\n\t\t\tfilter<Event>()\n\t\t\t\t.source(this.parser.actor.id)\n\t\t\t\t.type('damage')\n\t\t\t\t.cause(this.data.matchCauseAction(DARKSIDE_EXTENSION_ACTIONS)), (event) => {\n\t\t\t\tif (event.cause.type === 'action' && isSuccessfulHit(event)) {\n\t\t\t\t\tthis.darksideGauge.extend(DARKSIDE_EXTENSION_TIME, false)\n\t\t\t\t}\n\t\t\t})\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\tprotected override onDeath(event: Events['death']) {\n\t\tsuper.onDeath(event)\n\t\tthis.darksideDrops.push({timestamp: event.timestamp, reason: t('drk.darkside.drop.reason.death')`Death`})\n\t}\n\n\tprivate onDarksideExpiration(args: TimestampHookArguments) {\n\t\tthis.darksideDrops.push({timestamp: args.timestamp, reason: t('drk.darkside.drop.reason.timeout')`Timeout`})\n\t}\n\n\tprivate onComplete() {\n\t\tthis.darksideGauge.pause()\n\n\t\tconst fightDowntimes = this.downtime.getDowntimeWindows()\n\t\tconst adjustedFightDuration = this.parser.pull.duration - this.downtime.getDowntime()\n\n\t\tconst requireDarksideStartedBy = this.parser.pull.timestamp + APPLICATION_FORGIVENESS\n\t\tconst endOfPull = this.parser.currentEpochTimestamp\n\t\tconst expiredDuration = this.darksideGauge.getExpirationTime(requireDarksideStartedBy, endOfPull, fightDowntimes, APPLICATION_FORGIVENESS)\n\n\t\tconst uptime = ((adjustedFightDuration - expiredDuration) / adjustedFightDuration) * 100\n\n\t\tthis.checklist.add(new Rule({\n\t\t\tname: <Trans id=\"drk.darkside.uptime.name\">Keep Darkside up</Trans>,\n\t\t\tdescription: <Trans id=\"drk.darkside.uptime.why\">\n\t\t\t\tDarkside is gained by using <DataLink action=\"EDGE_OF_SHADOW\"/> or <DataLink action=\"FLOOD_OF_SHADOW\"/> and provides you with a 10% damage increase.  As such, it is a significant part of a DRK's personal DPS.  Do your best not to let it drop, and recover it as quickly as possible if it does.\n\t\t\t</Trans>,\n\t\t\trequirements: [\n\t\t\t\tnew Requirement({\n\t\t\t\t\tname: <Trans id=\"drk.darkside.uptime\">Darkside Uptime</Trans>,\n\t\t\t\t\tpercent: () => uptime,\n\t\t\t\t}),\n\t\t\t],\n\t\t\ttarget: 99,\n\t\t}))\n\t}\n\n\toverride output() {\n\t\tif (this.darksideDrops.length === 0) {\n\t\t\treturn false\n\t\t}\n\n\t\treturn (\n\t\t\t<Table collapsing unstackable>\n\t\t\t\t<Table.Header>\n\t\t\t\t\t<Table.Row>\n\t\t\t\t\t\t<Table.HeaderCell><Trans id=\"drk.darkside.drop.at\">Dropped Time</Trans></Table.HeaderCell>\n\t\t\t\t\t\t<Table.HeaderCell><Trans id=\"drk.darkside.drop.reason\">Reason</Trans></Table.HeaderCell>\n\t\t\t\t\t</Table.Row>\n\t\t\t\t</Table.Header>\n\t\t\t\t<Table.Body>\n\t\t\t\t\t{this.darksideDrops\n\t\t\t\t\t\t.map((d, idx) => {\n\t\t\t\t\t\t\treturn <Table.Row key={`darksidedrop-${idx}`}>\n\t\t\t\t\t\t\t\t<Table.Cell>{this.parser.formatEpochTimestamp(d.timestamp)}</Table.Cell>\n\t\t\t\t\t\t\t\t<Table.Cell><NormalisedMessage message={d.reason}/></Table.Cell>\n\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</Table.Body>\n\t\t\t</Table>\n\t\t)\n\t}\n}\n","import {Defensives as CoreDefensives} from 'parser/core/modules/Defensives'\n\nexport class Defensives extends CoreDefensives {\n\tprotected override trackedDefensives = [\n\t\tthis.data.actions.LIVING_DEAD,\n\t\tthis.data.actions.SHADOW_WALL,\n\t\tthis.data.actions.THE_BLACKEST_NIGHT,\n\t\tthis.data.actions.DARK_MISSIONARY,\n\t\tthis.data.actions.OBLATION,\n\t\tthis.data.actions.DARK_MIND,\n\t]\n}\n","import {t} from '@lingui/macro'\nimport {Trans} from '@lingui/react'\nimport {DataLink} from 'components/ui/DbLink'\nimport {ActionKey} from 'data/ACTIONS'\nimport {Event} from 'event'\nimport {Analyser} from 'parser/core/Analyser'\nimport {filter, oneOf} from 'parser/core/filter'\nimport {dependency} from 'parser/core/Injectable'\nimport {Actors} from 'parser/core/modules/Actors'\nimport Checklist, {Requirement, TARGET, TieredRule} from 'parser/core/modules/Checklist'\nimport {Data} from 'parser/core/modules/Data'\nimport React from 'react'\nimport {DISPLAY_ORDER} from './DISPLAY_ORDER'\n\nconst DELIRIUM_CONSUMERS: ActionKey[] = [\n\t'BLOODSPILLER',\n\t'QUIETUS',\n]\nconst SEVERITY = {\n\t95: TARGET.WARN,\n\t100: TARGET.SUCCESS,\n}\n\nexport class Delirium extends Analyser {\n\tstatic override handle = 'delirium'\n\tstatic override title = t('drk.delirium.title')`Delirium Usage`\n\tstatic override displayOrder = DISPLAY_ORDER.DELIRIUM\n\n\t@dependency private actors!: Actors\n\t@dependency private checklist!: Checklist\n\t@dependency private data!: Data\n\n\tprivate stacksPerUse = this.data.statuses.DELIRIUM.stacksApplied ?? 0\n\tprivate stacksGained = 0\n\tprivate stacksUsed = 0\n\n\toverride initialise() {\n\t\tsuper.initialise()\n\n\t\tconst playerFilter = filter<Event>().source(this.parser.actor.id)\n\t\tthis.addEventHook(playerFilter.type('action').action(this.data.actions.DELIRIUM.id), () => this.stacksGained += this.stacksPerUse)\n\t\tthis.addEventHook(playerFilter.type('action').action(oneOf(DELIRIUM_CONSUMERS.map(key => this.data.actions[key].id))), this.onDeliriumConsumer)\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\tprivate onDeliriumConsumer() {\n\t\tif (this.actors.current.hasStatus(this.data.statuses.DELIRIUM.id)) {\n\t\t\tthis.stacksUsed++\n\t\t}\n\t}\n\n\tprivate onComplete() {\n\t\tconst percentUsed = this.stacksGained > 0 ? (this.stacksUsed / this.stacksGained * 100).toFixed(2) : 0\n\t\tthis.checklist.add(new TieredRule({\n\t\t\tname: <Trans id=\"drk.delirium.checklist.name\">Use All Delirium Stacks</Trans>,\n\t\t\tdescription: <Trans id=\"drk.delirium.checklist.description\">\n\t\t\t\t<DataLink action=\"DELIRIUM\" /> grants {this.stacksPerUse} stacks to use on <DataLink action=\"BLOODSPILLER\" /> (or <DataLink action=\"QUIETUS\" /> on 3 or more targets).\n\t\t\t\tBe sure to use all stacks generated.\n\t\t\t</Trans>,\n\t\t\ttiers: SEVERITY,\n\t\t\trequirements: [\n\t\t\t\tnew Requirement({\n\t\t\t\t\tname: <Trans id=\"drk.delrium.checklist.requirement.name\">\n\t\t\t\t\t\t<DataLink action=\"DELIRIUM\" /> stacks used\n\t\t\t\t\t</Trans>,\n\t\t\t\t\toverrideDisplay: `${this.stacksUsed} / ${this.stacksGained} (${percentUsed}%)`,\n\t\t\t\t\tpercent: percentUsed,\n\t\t\t\t}),\n\t\t\t],\n\t\t}))\n\t}\n}\n","import ACTIONS from 'data/ACTIONS'\nimport {PetTimeline} from 'parser/core/modules/PetTimeline'\n\nexport class EsteemTimeline extends PetTimeline {\n\tprotected override timelineGroupName = 'Esteem'\n\tprotected override timelineSummonAction = ACTIONS.LIVING_SHADOW.id\n}\n","import {t} from '@lingui/macro'\nimport {Plural, Trans} from '@lingui/react'\nimport {DataLink} from 'components/ui/DbLink'\nimport {ActionKey} from 'data/ACTIONS'\nimport {Event, Events} from 'event'\nimport {Analyser} from 'parser/core/Analyser'\nimport {EventHook} from 'parser/core/Dispatcher'\nimport {filter, oneOf} from 'parser/core/filter'\nimport {dependency} from 'parser/core/Injectable'\nimport {Actors} from 'parser/core/modules/Actors'\nimport {Data} from 'parser/core/modules/Data'\nimport Suggestions, {SEVERITY, TieredSuggestion} from 'parser/core/modules/Suggestions'\nimport React from 'react'\nimport {isSuccessfulHit} from 'utilities'\nimport {DISPLAY_ORDER} from './DISPLAY_ORDER'\n\nconst SPENDER_COST = 3000\nconst MP_REGEN_PER_TICK = 200\nconst TICK_RATE = 3000\n\nconst DARK_ARTS_SPENDERS: ActionKey[] = [\n\t'EDGE_OF_SHADOW',\n\t'FLOOD_OF_SHADOW',\n]\n\n// Tiered suggestion severities\nconst SEVERITY_THE_BLACKEST_NIGHT = {\n\t1: SEVERITY.MEDIUM,\n\t2: SEVERITY.MAJOR,\n}\n\nconst SEVERITY_WASTED_MP_ACTIONS = {\n\t1: SEVERITY.MINOR,\n\t2: SEVERITY.MEDIUM,\n\t5: SEVERITY.MAJOR,\n}\n\nexport class MPUsage extends Analyser {\n\tstatic override handle = 'resourceanalyzer'\n\tstatic override title = t('drk.resourceanalyzer.title')`Resource Analyzer`\n\tstatic override displayOrder = DISPLAY_ORDER.RESOURCES\n\n\t@dependency private actors!: Actors\n\t@dependency private data!: Data\n\t@dependency private suggestions!: Suggestions\n\n\t/* eslint-disable @typescript-eslint/no-magic-numbers */\n\tprivate comboGenerators = new Map<number, number>([\n\t\t[this.data.actions.SYPHON_STRIKE.id, 600],\n\t\t[this.data.actions.STALWART_SOUL.id, 600],\n\t])\n\tprivate damageGenerators = new Map<number, number>([\n\t\t[this.data.actions.CARVE_AND_SPIT.id, 600],\n\t])\n\tprivate bloodWeaponGenerators = new Map<number, number>([\n\t\t[this.data.actions.HARD_SLASH.id, 600],\n\t\t[this.data.actions.SYPHON_STRIKE.id, 600],\n\t\t[this.data.actions.SOULEATER.id, 600],\n\t\t[this.data.actions.BLOODSPILLER.id, 600],\n\t\t[this.data.actions.QUIETUS.id, 600],\n\t\t[this.data.actions.UNMEND.id, 600],\n\t\t[this.data.actions.UNLEASH.id, 600],\n\t\t[this.data.actions.STALWART_SOUL.id, 600],\n\t])\n\tprivate deliriumGenerators = new Map<number, number>([\n\t\t[this.data.actions.BLOODSPILLER.id, 200],\n\t\t[this.data.actions.QUIETUS.id, 500],\n\t])\n\t/* eslint-enable @typescript-eslint/no-magic-numbers */\n\n\tprivate lastMPGeneration = 0\n\tprivate cappedTimestamp?: number\n\tprivate mpGeneratedOvercap = 0\n\tprivate mpRegenOvercap = 0\n\tprivate droppedTBNs = 0\n\tprivate overwriteDarkArts = 0\n\tprivate darkArts = false\n\n\toverride initialise() {\n\t\tsuper.initialise()\n\n\t\tconst playerFilter = filter<Event>().source(this.parser.actor.id)\n\t\tthis.addEventHook(playerFilter.type('damage').cause(this.data.matchCauseActionId([...this.damageGenerators.keys()])), this.onGenerator(this.damageGenerators))\n\t\tthis.addEventHook(playerFilter.type('combo').action(oneOf([...this.comboGenerators.keys()])), this.onGenerator(this.comboGenerators))\n\t\tthis.addEventHook(filter<Event>().type('actorUpdate').actor(this.parser.actor.id), this.onActorUpdate)\n\n\t\tthis.addEventHook(playerFilter.type('statusApply').status(this.data.statuses.BLOOD_WEAPON.id), this.onApplyBloodWeapon)\n\t\tthis.addEventHook(playerFilter.type('statusRemove').status(this.data.statuses.BLOOD_WEAPON.id), this.onRemoveBloodWeapon)\n\n\t\tthis.addEventHook(playerFilter.type('statusApply').status(this.data.statuses.DELIRIUM.id), this.onApplyDelirium)\n\t\tthis.addEventHook(playerFilter.type('statusRemove').status(this.data.statuses.DELIRIUM.id), this.onRemoveDelirium)\n\n\t\tthis.addEventHook(playerFilter.type('statusRemove').status(this.data.statuses.BLACKEST_NIGHT.id), this.onRemoveBlackestNight)\n\t\tthis.addEventHook(playerFilter.type('action').action(this.data.matchActionId(DARK_ARTS_SPENDERS)), () => this.darkArts = false)\n\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\tprivate activeBloodWeaponHook?: EventHook<Events['damage']>\n\tprivate onApplyBloodWeapon() {\n\t\tif (this.activeBloodWeaponHook == null) {\n\t\t\t// Buffs with stacks generate separate apply events for each stack with a single remove at the end.\n\t\t\t// Make sure we only start hooking for actions effected by Blood Weapon on the first apply event\n\t\t\t// ie no duplicate hooks on the \"reapply\" events as the stacks go down\n\t\t\tthis.activeBloodWeaponHook = this.addEventHook(filter<Event>().source(this.parser.actor.id).type('damage'), this.onGenerator(this.bloodWeaponGenerators))\n\t\t}\n\t}\n\tprivate onRemoveBloodWeapon() {\n\t\tif (this.activeBloodWeaponHook != null) {\n\t\t\tthis.removeEventHook(this.activeBloodWeaponHook)\n\t\t\tthis.activeBloodWeaponHook = undefined\n\t\t}\n\t}\n\n\tprivate activeDeliriumHook?: EventHook<Events['damage']>\n\tprivate onApplyDelirium() {\n\t\tif (this.activeDeliriumHook == null) {\n\t\t\t// Buffs with stacks generate separate apply events for each stack with a single remove at the end.\n\t\t\t// Make sure we only start hooking for actions effected by Delirium on the first apply event\n\t\t\t// ie no duplicate hooks on the \"reapply\" events as the stacks go down\n\t\t\tthis.activeDeliriumHook = this.addEventHook(filter<Event>().source(this.parser.actor.id).type('damage'), this.onGenerator(this.deliriumGenerators))\n\t\t}\n\t}\n\tprivate onRemoveDelirium() {\n\t\tif (this.activeDeliriumHook != null) {\n\t\t\tthis.removeEventHook(this.activeDeliriumHook)\n\t\t\tthis.activeDeliriumHook = undefined\n\t\t}\n\t}\n\n\tprivate onGenerator(modifiers: Map<number, number>) {\n\t\treturn (event: Events['damage' | 'combo']) => {\n\t\t\tif (event.type === 'damage' && event.cause.type === 'action') {\n\t\t\t\tif (!isSuccessfulHit(event)) { return }\n\t\t\t\tthis.lastMPGeneration = modifiers.get(event.cause.action) ?? 0\n\t\t\t}\n\n\t\t\tif (event.type === 'combo') {\n\t\t\t\tthis.lastMPGeneration = modifiers.get(event.action) ?? 0\n\t\t\t}\n\n\t\t\tif (this.lastMPGeneration > this.actors.current.mp.maximum - this.actors.current.mp.current) {\n\t\t\t\tthis.mpGeneratedOvercap += this.lastMPGeneration - (this.actors.current.mp.maximum - this.actors.current.mp.current)\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onActorUpdate(event: Events['actorUpdate']) {\n\t\tif (event.mp == null) { return }\n\n\t\tif (event.mp < this.actors.current.mp.maximum) {\n\t\t\tif (this.cappedTimestamp == null) { return }\n\n\t\t\tconst timeSinceCapped = event.timestamp - this.cappedTimestamp\n\t\t\tthis.mpRegenOvercap += Math.floor(timeSinceCapped / TICK_RATE) * MP_REGEN_PER_TICK\n\t\t\tthis.cappedTimestamp = undefined\n\t\t} else {\n\t\t\tthis.cappedTimestamp = event.timestamp\n\t\t}\n\t}\n\n\tprivate onRemoveBlackestNight(event: Events['statusRemove']) {\n\t\tif (event.remainingShield != null && event.remainingShield > 0) {\n\t\t\tthis.droppedTBNs += 1\n\t\t} else {\n\t\t\tif (this.darkArts) {\n\t\t\t\tthis.overwriteDarkArts += 1\n\t\t\t}\n\t\t\tthis.darkArts = true\n\t\t}\n\t}\n\n\tprivate onComplete() {\n\t\tconst wastedDarkArts = this.droppedTBNs + this.overwriteDarkArts\n\t\tthis.suggestions.add(new TieredSuggestion({\n\t\t\ticon: this.data.actions.THE_BLACKEST_NIGHT.icon,\n\t\t\tcontent: <Trans id=\"drk.resourceanalyzer.blackestnight.content\">\n\t\t\t\tWhen the shield from <DataLink action=\"THE_BLACKEST_NIGHT\" /> is fully consumed you gain a Dark Arts proc, which allows free use of <DataLink action=\"EDGE_OF_SHADOW\" /> or <DataLink action=\"FLOOD_OF_SHADOW\" />.\n\t\t\t\tYou should make sure each usage of <DataLink action=\"THE_BLACKEST_NIGHT\" /> will fully consume the shield, and that you use each Dark Arts proc before using <DataLink action=\"THE_BLACKEST_NIGHT\" /> again.\n\t\t\t</Trans>,\n\t\t\ttiers: SEVERITY_THE_BLACKEST_NIGHT,\n\t\t\tvalue: wastedDarkArts,\n\t\t\twhy: <Trans id=\"drk.resourceanalyzer.blackestnight.why\">\n\t\t\t\tYou missed out on <Plural value={wastedDarkArts} one=\"# Dark Arts use\" other=\"# Dark Arts uses\" /> due to <DataLink action=\"THE_BLACKEST_NIGHT\" showIcon={false} showTooltip={false} /> applications that did not consume the shield.\n\t\t\t</Trans>,\n\t\t}))\n\n\t\tconst wastedMPActions = Math.floor((this.mpGeneratedOvercap + this.mpRegenOvercap) / SPENDER_COST)\n\t\tthis.suggestions.add(new TieredSuggestion({\n\t\t\ticon: this.data.actions.EDGE_OF_SHADOW.icon,\n\t\t\tcontent: <Trans id=\"drk.resourceanalyzer.wastedmp.content\">\n\t\t\t\tYour MP allows you to use <DataLink action=\"EDGE_OF_SHADOW\"/>, a strong attack that gives you a persistent damage up buff, as well as the strong mitigation of <DataLink action=\"THE_BLACKEST_NIGHT\"/>.\n\t\t\t\tBe sure to consistently use your MP so you can benefit from natural regeneration and MP gain from your main combo skills.\n\t\t\t</Trans>,\n\t\t\ttiers: SEVERITY_WASTED_MP_ACTIONS,\n\t\t\tvalue: wastedMPActions,\n\t\t\twhy: <Trans id=\"drk.resourceanalyzer.wastedmp.why\">\n\t\t\t\tYou lost a total of <Plural value={wastedMPActions} one=\"# MP spending skill\" other=\"# MP spending skills\" /> from gaining MP over the cap or death.\n\t\t\t</Trans>,\n\t\t}))\n\t}\n}\n","import {AoEUsages} from 'parser/core/modules/AoEUsages'\n\nexport class MultiHitSkills extends AoEUsages {\n\tsuggestionIcon = this.data.actions.QUIETUS.icon\n\n\ttrackedActions = [\n\t\t{\n\t\t\taoeAction: this.data.actions.FLOOD_OF_SHADOW,\n\t\t\tstActions: [this.data.actions.EDGE_OF_SHADOW],\n\t\t\tminTargets: 3,\n\t\t},\n\t\t{\n\t\t\taoeAction: this.data.actions.QUIETUS,\n\t\t\tstActions: [this.data.actions.BLOODSPILLER],\n\t\t\tminTargets: 3,\n\t\t},\n\t\t{\n\t\t\taoeAction: this.data.actions.ABYSSAL_DRAIN,\n\t\t\tstActions: [this.data.actions.CARVE_AND_SPIT],\n\t\t\tminTargets: 4,\n\t\t},\n\t\t{\n\t\t\taoeAction: this.data.actions.UNLEASH,\n\t\t\tstActions: [this.data.actions.HARD_SLASH],\n\t\t\tminTargets: 2,\n\t\t},\n\t]\n}\n","import {CooldownDowntime} from 'parser/core/modules/CooldownDowntime'\n\nconst DEFAULT_FIRST_USE_OFFSET = 15000\n\nexport class OGCDDowntime extends CooldownDowntime {\n\toverride defaultFirstUseOffset = DEFAULT_FIRST_USE_OFFSET\n\toverride trackedCds = [\n\t\t{\n\t\t\tcooldowns: [this.data.actions.BLOOD_WEAPON],\n\t\t\tfirstUseOffset: 2500,\n\t\t},\n\t\t{\n\t\t\tcooldowns: [this.data.actions.DELIRIUM],\n\t\t\tfirstUseOffset: 7500,\n\t\t},\n\t\t{\n\t\t\tcooldowns: [this.data.actions.PLUNGE],\n\t\t\tresetBy: {\n\t\t\t\tactions: [this.data.actions.UNMEND],\n\t\t\t\trefundAmount: 5000,\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tcooldowns: [this.data.actions.SALTED_EARTH],\n\t\t\tfirstUseOffset: 10000,\n\t\t},\n\t\t{cooldowns: [this.data.actions.CARVE_AND_SPIT, this.data.actions.ABYSSAL_DRAIN]},\n\t\t{cooldowns: [this.data.actions.SHADOWBRINGER]},\n\t\t{\n\t\t\tcooldowns: [this.data.actions.LIVING_SHADOW],\n\t\t\tfirstUseOffset: 10000,\n\t\t},\n\t]\n}\n","import {t} from '@lingui/macro'\nimport {Plural, Trans} from '@lingui/react'\nimport {DataLink} from 'components/ui/DbLink'\nimport {Event, Events} from 'event'\nimport {Analyser} from 'parser/core/Analyser'\nimport {filter} from 'parser/core/filter'\nimport {dependency} from 'parser/core/Injectable'\nimport {Data} from 'parser/core/modules/Data'\nimport Suggestions, {SEVERITY, TieredSuggestion} from 'parser/core/modules/Suggestions'\nimport React from 'react'\nimport {isSuccessfulHit} from 'utilities'\nimport {DISPLAY_ORDER} from './DISPLAY_ORDER'\n\nconst SEVERITIES = {\n\tUNUSED: {\n\t\t1: SEVERITY.MEDIUM,\n\t\t2: SEVERITY.MAJOR,\n\t},\n\tFAILED: {\n\t\t1: SEVERITY.MEDIUM,\n\t\t2: SEVERITY.MAJOR,\n\t},\n}\n\nexport class SaltAndDarkness extends Analyser {\n\tstatic override handle = 'saltanddarkness'\n\tstatic override title = t('drk.saltanddarkness.title')`Salt And Darkness`\n\tstatic override displayOrder = DISPLAY_ORDER.RESOURCES\n\n\t@dependency private data!: Data\n\t@dependency private suggestions!: Suggestions\n\n\tprivate saltedEarthUsed = 0\n\tprivate saltAndDarknessUsed = 0\n\tprivate saltAndDarknessDamaged = 0\n\n\toverride initialise() {\n\t\tsuper.initialise()\n\n\t\tconst playerFilter = filter<Event>().source(this.parser.actor.id)\n\t\tthis.addEventHook(playerFilter.type('action').action(this.data.actions.SALTED_EARTH.id), () => this.saltedEarthUsed++)\n\t\tthis.addEventHook(playerFilter.type('action').action(this.data.actions.SALT_AND_DARKNESS.id), () => this.saltAndDarknessUsed++)\n\t\tthis.addEventHook(playerFilter.type('damage').cause(this.data.matchCauseAction(['SALT_AND_DARKNESS_DAMAGE'])), this.onSaltDarknessDamage)\n\t\tthis.addEventHook('complete', this.onComplete)\n\t}\n\n\tprivate onSaltDarknessDamage(event: Events['damage']) {\n\t\tif (isSuccessfulHit(event)) {\n\t\t\tthis.saltAndDarknessDamaged++\n\t\t}\n\t}\n\n\tprivate onComplete() {\n\t\tconst unused = this.saltedEarthUsed - this.saltAndDarknessUsed\n\t\tthis.suggestions.add(new TieredSuggestion({\n\t\t\ticon: this.data.actions.SALT_AND_DARKNESS.icon,\n\t\t\tcontent: <Trans id=\"drk.saltanddarkness.unused.content\">\n\t\t\t\tUse <DataLink action=\"SALT_AND_DARKNESS\" /> every time you use <DataLink action=\"SALTED_EARTH\" /> in order to do additional damage to enemies inside the <DataLink action=\"SALTED_EARTH\" /> area of effect.\n\t\t\t</Trans>,\n\t\t\ttiers: SEVERITIES.UNUSED,\n\t\t\tvalue: unused,\n\t\t\twhy: <Trans id=\"drk.saltanddarkness.unused.why\">\n\t\t\t\tYou did not use <DataLink action=\"SALT_AND_DARKNESS\" showTooltip={false} showIcon={false} /> after <DataLink action=\"SALTED_EARTH\" showTooltip={false} showIcon={false} /> <Plural value={unused} one=\"# time\" other=\"# times\" />.\n\t\t\t</Trans>,\n\t\t}))\n\n\t\tconst failed = this.saltAndDarknessUsed - this.saltAndDarknessDamaged\n\t\tthis.suggestions.add(new TieredSuggestion({\n\t\t\ticon: this.data.actions.SALT_AND_DARKNESS.icon,\n\t\t\tcontent: <Trans id=\"drk.saltanddarkness.failed.content\">\n\t\t\t\tUse <DataLink action=\"SALT_AND_DARKNESS\" /> only when there are enemies inside the effect area of <DataLink action=\"SALTED_EARTH\" /> and those enemies are not invulnerable.\n\t\t\t</Trans>,\n\t\t\ttiers: SEVERITIES.UNUSED,\n\t\t\tvalue: failed,\n\t\t\twhy: <Trans id=\"drk.saltanddarkness.failed.why\">\n\t\t\t\t<Plural value={failed} one=\"# use\" other=\"# uses\" /> of <DataLink action=\"SALT_AND_DARKNESS\" showTooltip={false} showIcon={false} /> did no damage due to enemies being invulnerable or not being in the <DataLink action=\"SALTED_EARTH\" showTooltip={false} showIcon={false} /> area of effect.\n\t\t\t</Trans>,\n\t\t}))\n\t}\n}\n","import STATUSES from 'data/STATUSES'\nimport {StatusTimeline as CoreStatusTimeline} from 'parser/core/modules/StatusTimeline'\n\nexport class StatusTimeline extends CoreStatusTimeline {\n\tstatic override statusesStackMapping = {\n\t\t[STATUSES.WALKING_DEAD.id]: STATUSES.LIVING_DEAD.id,\n\t\t[STATUSES.UNDEAD_REBIRTH.id]: STATUSES.LIVING_DEAD.id,\n\t}\n}\n","import {ActionTimeline} from './ActionTimeline'\nimport {BloodGauge} from './BloodGauge'\nimport {BloodWeapon} from './BloodWeapon'\nimport {Darkside} from './Darkside'\nimport {Defensives} from './Defensives'\nimport {Delirium} from './Delirium'\nimport {EsteemTimeline} from './EsteemTimeline'\nimport {MPUsage} from './MPUsage'\nimport {MultiHitSkills} from './MultiHitSkills'\nimport {OGCDDowntime} from './OGCDDowntime'\nimport {SaltAndDarkness} from './SaltAndDarkness'\nimport {StatusTimeline} from './StatusTimeline'\n\nexport default [\n\tActionTimeline,\n\tBloodGauge,\n\tBloodWeapon,\n\tDarkside,\n\tDefensives,\n\tDelirium,\n\tEsteemTimeline,\n\tMPUsage,\n\tMultiHitSkills,\n\tOGCDDowntime,\n\tSaltAndDarkness,\n\tStatusTimeline,\n]\n"],"names":["ItemDepth","ActionTimeline","CastTime","Cooldowns","Data","Timeline","resolvedRows","groupRows","action","this","addRow","content","constructor","rows","config","resolvedConfig","resolveConfig","push","addEventHook","onComplete","maybeAction","fullAction","undefined","data","getAction","actions","uses","cooldowns","cooldownHistory","id","length","name","populatedGroups","row","lateResolveLabel","label","resolveRowLabel","populateRow","forEach","specifier","groups","group","add","allGroups","has","finalConfig","Array","isArray","ensureArray","existingRow","get","isDefined","firstContent","Trans","timeline","ContainerRow","order","collapse","set","addCooldownItems","addChargeItems","chargeHistory","history","entry","duration","getCooldownDuration","start","parser","pull","timestamp","end","addItem","SimpleItem","className","item","delta","ActionItem","depth","ACTION","ChargeGainItem","CHARGE_GAIN","endReason","CooldownEndReason","castTime","forAction","Math","max","Analyser","handle","debug","dependency","Content","styles","Icon","BaseItem","estimateHelp","__all","legacyFflogs","GlobalCooldown","Statistics","SpeedAdjustments","speedAdjustments","getAdjustedDuration","BASE_GCD","isAdjustmentEstimated","estimated","isEstimated","statistics","SimpleStatistic","title","icon","ATTACK","value","formatDuration","getDuration","info","source","report","meta","PetTimeline","timelineGroupName","timelineSummonAction","timelineAutosName","timelineCommandsName","canPetBeCommanded","autoCasts","commandCasts","_event","actorPets","actors","actor","owner","pet","filter","type","oneOf","onCast","event","isCommandedEvent","autoRow","parentrow","SimpleRow","commandRow","addCastsToRow","summonAction","Error","actionTimeline","getRow","casts","cast","StatusTimeline","Actors","statusActionMap","usages","getRowKey","statusId","targetId","playerPetIds","allPetIds","playerControlled","actorFilter","target","noneOf","onApply","onRemove","statusesApplied","status","statuses","statusUsages","statusTarget","createStatusTargetRow","lastUsage","getStatus","usage","StatusItem","remappedStatusId","statusesStackMapping","rowKey","cachedRow","statusRow","createStatusRow","hideCollapsed","CoreActionTimeline","DISPLAY_ORDER","BLOOD_OVERCAP_SEVERITY","SEVERITY","BloodGauge","Suggestions","bloodGauge","CounterGauge","chart","color","JOBS","onComboModifiers","SOULEATER","STALWART_SOUL","STORMS_PATH","MYTHRIL_TEMPEST","onActionModifiers","INFURIATE","LIVING_SHADOW","QUIETUS","BLOODSPILLER","deliriumFreeCasts","activeGcdHook","playerFilter","onModifier","BLOOD_WEAPON","onApplyBloodWeapon","onRemoveBloodWeapon","modifiers","modifier","freeBloodAction","current","hasStatus","DELIRIUM","modify","onHitUnderBloodWeapon","removeEventHook","cause","onGcd","suggestions","TieredSuggestion","why","overCap","tiers","CoreGauge","BloodWeapon","buffStatus","addEvaluator","ExpectedGcdCountEvaluator","expectedGcds","globalCooldown","hasStacks","suggestionIcon","suggestionContent","suggestionWindowName","showIcon","severityTiers","BuffWindow","displayOrder","DARKSIDE_EXTENSION_ACTIONS","Darkside","Checklist","Downtime","darksideGauge","TimerGauge","maximum","onExpiration","onDarksideExpiration","bind","darksideDrops","matchCauseAction","isSuccessfulHit","extend","reason","args","pause","fightDowntimes","downtime","getDowntimeWindows","adjustedFightDuration","getDowntime","requireDarksideStartedBy","endOfPull","currentEpochTimestamp","uptime","getExpirationTime","checklist","Rule","description","requirements","Requirement","percent","Table","collapsing","unstackable","d","idx","formatEpochTimestamp","NormalisedMessage","message","Gauge","Defensives","trackedDefensives","LIVING_DEAD","SHADOW_WALL","THE_BLACKEST_NIGHT","DARK_MISSIONARY","OBLATION","DARK_MIND","CoreDefensives","DELIRIUM_CONSUMERS","TARGET","Delirium","stacksPerUse","stacksApplied","stacksGained","stacksUsed","key","onDeliriumConsumer","percentUsed","toFixed","TieredRule","overrideDisplay","EsteemTimeline","ACTIONS","DARK_ARTS_SPENDERS","SEVERITY_THE_BLACKEST_NIGHT","SEVERITY_WASTED_MP_ACTIONS","MPUsage","comboGenerators","SYPHON_STRIKE","damageGenerators","CARVE_AND_SPIT","bloodWeaponGenerators","HARD_SLASH","UNMEND","UNLEASH","deliriumGenerators","lastMPGeneration","cappedTimestamp","mpGeneratedOvercap","mpRegenOvercap","droppedTBNs","overwriteDarkArts","darkArts","activeBloodWeaponHook","activeDeliriumHook","matchCauseActionId","onGenerator","onActorUpdate","onApplyDelirium","onRemoveDelirium","BLACKEST_NIGHT","onRemoveBlackestNight","matchActionId","mp","timeSinceCapped","floor","remainingShield","wastedDarkArts","showTooltip","wastedMPActions","EDGE_OF_SHADOW","RESOURCES","MultiHitSkills","trackedActions","aoeAction","FLOOD_OF_SHADOW","stActions","minTargets","ABYSSAL_DRAIN","AoEUsages","OGCDDowntime","defaultFirstUseOffset","trackedCds","firstUseOffset","PLUNGE","resetBy","refundAmount","SALTED_EARTH","SHADOWBRINGER","CooldownDowntime","SEVERITIES","UNUSED","FAILED","SaltAndDarkness","saltedEarthUsed","saltAndDarknessUsed","saltAndDarknessDamaged","SALT_AND_DARKNESS","onSaltDarknessDamage","unused","failed","CoreStatusTimeline","STATUSES"],"sourceRoot":""}